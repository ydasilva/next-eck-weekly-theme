{"version":3,"file":"static/webpack/static/development/pages/index.js.d1d4862c221a217d04b3.hot-update.js","sources":["webpack:///./components/EckCard.js"],"sourcesContent":["import { Component } from 'react';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nvar html2json = require('html2json').html2json;\nvar sanitizeHtml = require('sanitize-html');\n\nconst corsProxyUrl = \"https://pacific-harbor-53496.herokuapp.com/\";\n// const corsProxyUrl = \"https://crossorigin.me/\";\nconst targetUrl = \"https://www.eck-ghana.org/eck_ws.php\";\n\nexport default class EckCard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n        showQuote: false,\n        eckData: null\n    };\n\n    fetch(corsProxyUrl+targetUrl)\n      .then(res => res.text())\n      .then( data => {\n        console.log(\"started work - state is null\");\n        const tab1 = data.lastIndexOf(\"tab1\");\n        const tab2 = data.lastIndexOf(\"tab2\");\n        console.log(\"tab1 is: \" + tab1 + \" and tab2 is: \" + tab2);\n        const data2 = data.slice(tab1,tab2);\n        const data3 = data2.slice(6, (data2.length-32));\n        var cleandata = sanitizeHtml(data3);\n        const json = html2json(cleandata);\n        // console.log(json);\n        // console.log(\"date:   \",json.child[0].child[1].child[0].text);\n        // console.log(\"theme:  \",json.child[0].child[2].child[1].child[0].child[0].text);\n        // console.log(\"book:   \",json.child[0].child[3].child[1].child[0].child[0].text);\n        // console.log(\"author: \",json.child[0].child[4].child[1].child[0].text);\n        // console.log(\"quote:  \",json.child[0].child[5].child[1].child[0].child[0].text);\n        // console.log(\"     by:\",json.child[0].child[5].child[1].child[2].child[0].text);\n\n        const finalData = {\n          \"date\"  : json.child[0].child[1].child[0].text,\n          \"theme\" : json.child[0].child[2].child[1].child[0].child[0].text,\n          \"quote\" : json.child[0].child[5].child[1].child[0].child[0].text,\n          \"by\"    : json.child[0].child[5].child[1].child[2].child[0].text\n        };\n\n        this.setState({eckData: finalData});\n        console.log(\"finished work - state is ready\");\n      })\n      .catch(err => console.error(err));\n\n  }\n\n  toggleQuote = () => {\n    this.setState({showQuote: !this.state.showQuote});\n  }\n\n  render(){\n    const { data } = this.props;\n\n    return (\n      <div>\n        <span className=\"halfWhite title\">ECK Light and Sound Service</span>\n        <br/>\n        <span className=\"halfWhite subtitle\">Theme and Quote Of The Week</span>\n        <br/><br/>\n        <div className=\"card\">\n          <div className={this.state.showQuote?\"whiteBG hide\":\"whiteBG\"}>\n            <h4 className=\"date\">{this.state.eckData ? this.state.eckData.date : \"Loading...\"}</h4>\n            <div className=\"themeContainer\">\n              <div className=\"themeRightShift\"></div>\n              <h2>THEME</h2>\n              <div className=\"themeLeftShift\"></div>\n            </div>\n            <div className=\"content\">\n              <h1 className=\"noMargin\">{this.state.eckData ? this.state.eckData.theme : \"Loading...\"}</h1>\n            </div>\n            <button onClick={this.toggleQuote} className=\"eckButton\">Show Quote</button>\n          </div>\n\n          <div className={this.state.showQuote?\"quoteBG\":\"quoteBG hide\"}>\n            <h4 className=\"date\">{this.state.eckData ? this.state.eckData.date : \"Loading...\"}</h4>\n            <div className=\"themeContainer\">\n              <div className=\"themeRightShift\"></div>\n              <h2>QUOTE</h2>\n              <div className=\"themeLeftShift\"></div>\n            </div>\n            <div className=\"content\">\n              <p className=\"noMargin\">\n                  {this.state.eckData ? this.state.eckData.quote : \"Loading...\"}\n               </p>\n               <h5 className=\"noMargin\">\n               {this.state.eckData ? this.state.eckData.by : \"Loading...\"}\n               </h5>\n            </div>\n            <button onClick={this.toggleQuote} className=\"eckButton\">Show Theme</button>\n          </div>\n        </div>\n\n        <style jsx>{`\n          .title{\n            font-weight: bold;\n            font-size: 2rem;\n            color: #343434;\n          }\n          .subtitle{\n            font-weight: bold;\n            font-size: 1.2rem;\n            color: #343434;\n          }\n          .content {\n            height: 200px;\n            display: grid;\n            align-items: center;\n            box-shadow: inset 0 0 10px rgba(0,0,0,.1);\n            margin: 20px 0;\n            padding: 0 10px;\n            border-radius: 5px;\n            overflow: scroll;\n          }\n          .eckButton{\n            background: #2178FF;\n            padding: 10px 20px;\n            font-family: 'Alegreya', serif;\n            color: white;\n            font-weight: bold;\n            font-size: 1.3rem;\n            border: none;\n            border-radius: 50px;\n            margin-bottom: 10px;\n            box-shadow: 0px 4px 4px rgba(0,0,0,.2);\n          }\n          .eckButton:hover{\n            background: none;\n            padding: 6px 16px;\n            border: solid 4px #2178FF;\n            color: #2178FF;\n            box-shadow: none;\n          }\n          .quoteBG {\n            position: absolute;\n            background: #FFFFFF;\n            box-shadow: 0px 50px 400px rgba(0,0,0,.2);\n            width: calc( 100% - 40px);\n            height: auto;\n            text-align: center;\n            border-radius: 15px 15px 30px 30px;\n            border-bottom: solid 15px #2178FF;\n            padding: 0 20px;\n          }\n          .noMargin{margin: 0 !important;}\n          .hide {display: none !important;}\n          .halfWhite{background: rgba(255,255,255,.5); color: #343434;font-family: 'Alegreya', serif;}\n          .date {\n            display: inline-block;\n            margin-bottom: 10px;\n          }\n          .themeContainer{\n            display: grid;\n            background: #2178FF;\n            color: white;\n            width: 50%;\n            height: 3em;\n            margin: 0 auto;\n            align-content: center;\n            position: relative;\n          }\n          .themeRightShift{\n            position: absolute;\n            width: 3em;\n            height: 3em;\n            background: white;\n            right: -1.5em;\n            transform: rotate(45deg);\n          }\n          .themeLeftShift{\n            position: absolute;\n            width: 3em;\n            height: 3em;\n            background: white;\n            left: -1.5em;\n            transform: rotate(45deg);\n          }\n          .card {\n            display: grid;\n            position: relative;\n            margin: 0 auto;\n            max-width: 500px;\n            font-family: 'Alegreya', serif;\n          }\n          .whiteBG {\n            position: absolute;\n            background: #FFFFFF;\n            box-shadow: 0px 50px 400px rgba(0,0,0,.2);\n            width: calc( 100% - 40px);\n            height: auto;\n            text-align: center;\n            border-radius: 15px 15px 30px 30px;\n            border-bottom: solid 15px #2178FF;\n            padding: 0 20px;\n          }\n          @media (max-width: 430px) {\n            .card{margin: 0 20px;}\n            .themeContainer{width: 75%;}\n            .halfWhite{margin: 0;}\n            .title{font-size: 1.5rem}\n          }\n        `}</style>\n      </div>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AA0CA;AAAA;AAAA;AACA;AACA;AAzCA;AACA;AACA;AAFA;AAKA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AArCA;AAuCA;AACA;;;AAKA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAlCA;AAAA;AAAA;AAqJA;;;;AAvMA;AACA;;;;;A","sourceRoot":""}